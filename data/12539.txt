CASTRO VALLEY (CBS SF) -- A Castro Valley man shot by sheriff's deputies Friday in a bizarre confrontation first with his family and then with deputies died in a hospital on Sunday, the sheriff's office announced Monday.

The man, identified as 49-year-old Terrence Barry, allegedly threatened sheriff's deputies who came to his home and shouldered a homemade replica firearm at an approaching sheriff's vehicle, prompting a sergeant to shoot him, sheriff's officials said.

The Alameda County Sheriff's Office first received reports around 7 p.m. Friday from Barry's family in the 3400 block of Seven Hills Road. The family told dispatchers that Barry was acting belligerent, threatening and that the rest of the family was fleeing and leaving him in the house.

Barry allegedly then called sheriff's dispatchers and said that he was going to "shoot up the world." He called again minutes later and said he had a machine gun and would shoot any deputies who arrived at his home, sheriff's Sgt. J.D. Nelson said.

To respond to the threat, deputies loaded into an armored vehicle and as they proceeded up Seven Hills Road they saw Barry come out of the side of the house and shoulder what appeared to be a rifle, Nelson said.

Authorities on the scene of an officer-involved shooting on the 3400 block of Seven Hills Road in Castro Valley on March 22, 2013. (CBS)

Barry ducked behind some juniper bushes near his driveway, and then popped up again behind the bushes nearby, again shouldering the apparent rifle, Nelson said.

A sheriff's sergeant fired three shots at Barry from a porthole on top of the armored vehicle, striking him twice. He was rushed to Eden Medical Center and was taken to emergency surgery for his wounds but succumbed Sunday afternoon.

The weapon he was holding turned out to be a replica firearm, made of wood with a handle to resemble a rifle. Barry was on probation for weapons charges, Nelson said.

(Copyright 2013 by CBS San Francisco and Bay City News Service. All rights reserved. This material may not be published, broadcast, rewritten or redistributed.)