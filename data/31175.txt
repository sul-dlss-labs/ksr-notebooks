The man Idaho authorities say killed two people and wounded four others at a Boise mall before he was fatally shot by police last week was a convicted felon from Illinois who previously attracted the attention of law enforcement when he showed up at the Idaho Capitol armed with a handgun in April.

Boise police say 27-year-old Jacob Bergquist opened fire at the Boise Towne Square shopping center on Oct. 25, fatally shooting two people and wounding four others. Authorities said responding officers then exchanged gunfire outside of the mall with Bergquist, who later died from his injuries.

"I was getting ready to check out and we heard four or five shots and we hit the ground immediately," recalled witness Cheryl Frey. "And then the cashier, she hit the ground with us and started kind of crawling away and then we heard another four or five shots and she goes, 'Come with me, come with me,' and she took us and hid us into one of their closets that have a code on it."

Documents obtained by NBC 5 Investigates show Bergquist was arrested in downtown Chicago in August 2012 after police said he stole $479.69 in merchandise from the Macy's on Michigan Avenue. He ultimately pleaded guilty to charges of retail theft of more than $300, a felony in Illinois, was sentenced to 30 months probation and paid $709 in court fees, documents show.

Feeling out of the loop? We'll catch you up on the Chicago news you need to know. Sign up for the weekly Chicago Catch-Up newsletter here.

Bergquist referenced that conviction when talking to a receptionist and a state trooper in the Idaho governor’s office when he entered the Idaho state Capitol armed with a semiautomatic handgun in April, according to a report from the Idaho State Police.

The trooper filed a report on the encounter, relaying that Bergquist told the receptionist he wanted to “interview the governor to get his thoughts on persons convicted of felonies being able to carry guns.”

Bergquist said he was convicted of theft in Illinois but allowed to carry a gun under Idaho state law, and that he was “trying to get the word out to others that they too could carry in Idaho."

The report also references Bergquist’s Youtube channel “Guns and Rodents,” which featured videos of him shooting a gun and included a declaration that "minorities are not welcome." His bio on that page – which has since been removed from the site - noted that he previously lived in Chicago.

Documents related to Bergquist's Chicago arrest indicate he was born in Minnesota, graduated from high school in Eau Claire, Wisconsin, in 2012 and moved to Chicago shortly thereafter to live with an aunt, telling a probation officer he did not get along with or have contact with his parents at the time.

The trooper in the April incident at the Idaho Capitol asked local prosecutors to investigate potential charges against Bergquist for that encounter.

The Ada County Prosecutor’s Office said in a statement that it “determined he was not a prohibited possessor in Idaho” based on the state's laws, which do not require a permit to own a firearm and allow for open carry.

Idaho authorities now say they’re looking at Bergquist’s social media for insights into last week’s deadly shooting.

"We've been conducting investigations related to Mr. Bergquist, looking at any social media information, any other evidence that we may have, anything to help us understand motivation," Boise Police Chief Ryan Lee said in a news conference last week. "We've been working with our partners at the local, state and federal level to conduct the interviews of people who knew him to try and understand anything that we can about why this event happened and why it happened at the location it did."