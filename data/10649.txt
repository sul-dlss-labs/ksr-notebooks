A man was shot and killed by police Friday after attacking his ex-girlfriend and her male friend with a machete hours after she filed a police complaint against him, friends and relatives said.

Jose Almonte was shot dead after lunging at a female officer in the area of Northwest 181st Street and 54th Avenue, according to Miami-Dade police.

The confrontation happened as officers responded to a call that Almonte was attacking 53-year-old Angela Heath and a male friend named John.

"He cut [John] up real bad, like he was a piece of meat," said a family friend who identified herself as Enise.

Authorities said Friday night that Heat and her friend were in stable condition after being airlifted to Ryder Trauma Center.

Heath had a restraining order against Almonte, said family friends who told NBCMiami that John was escorting Heath for protection after Almonte threatened to cut her with a machete.

Neighbors and friends told NBCMiami that the former couple had been involved in multiple domestic disputes in the past, and that Heath had moved out of her home after Almonte showed up on the property and harrassed her.

"[Almonte] had a stay-away order," said Enise. "He came down from Port St. Lucie. He wasn't supposed to be here."

Heath's daughter Treneshia Heath said she had driven her mother to the police station that morning to report Almonte's threats.

When they later arrived at Angela Heath's home, she said, John had gone to the door to make sure Almonte wasn't inside when Almonte attacked him with a machete.

"John was at the door, knocking," she said, "and Jose just came out swinging a machete and was just chopping him up...

"I'm screaming, 'Jose, don't do this! Stop!'"

Treneshia Heath said passengers from a passing car stopped to help. She had called 911 and was on the phone with the dispatcher checking on John, she said, when she turned and saw Almonte attacking her mother, hacking at Angela Heath "three or four times."

"I went over there charging at him, still on the phone with 911," she said. "Jose turned around when he saw me charging and he ran into the house...he locked the door and I didn't see him no more...

"My mom stepped back, and she just collapsed."

Witnesses at the scene suggested Almonte had ran out of a back door at the home, where he encountered police and was shot.

Footage from the scene showed Almonte's body in the street, covered by a tarp.

"I heard they killed him, anyway," said Enise. "He deserved it. And that's all I've got to say."