Dapkus’s stepmother, Eileen Dapkus, 79, said her stepson had long struggled with drug abuse and had been in and out of prison. Media reports show several arrests for Robert Dapkus on charges of committing violent crimes, including assault with intent to murder and armed robbery, and his driving record shows a 1993 arrest on drug possession charges.

Police had come to the high-rise building on Lynn Shore Drive to serve a search warrant on the man, who was under investigation in an armed robbery of the Porthole Pub in Lynn, officials said. Authorities did not release the man’s name, but the victim of the armed robbery and members of the man’s family identified him as Robert “Bobby” Dapkus, 57.

LYNN — A man who vowed not to be taken into custody was fatally shot by three Lynn police officers after he allegedly pointed a handgun at them in the hallway of his apartment building Monday, authorities said.

Get Breaking News Alerts Stay up-to-date with important news developments, delivered right to your inbox. Enter Email Sign Up

“Everyone tried to help him,” said Eileen Dapkus.

Advertisement

Bob Gaudet, owner of the Porthole Pub, said Dapkus was a regular at the bar who drove a red Cadillac. “He was a customer a couple of times a week,” Gaudet said.

But on Sept. 26, two men wearing hoodies and masks robbed Gaudet and another employee at gunpoint, Gaudet said. Despite the masks, Gaudet said, he recognized the regular with the red Cadillac.

“I was a good witness,” he said Monday. “The police did their job.”

Lynn police left the scene after investigating. David L. Ryan/Globe Staff/Globe Staff

Police officers arrived at the apartment on Lynn Shore Drive at 9:12 a.m. Monday, knocked on the door, and told the occupants that they had a search warrant for the apartment, Essex District Attorney Jonathan Blodgett’s office said in a statement.

A woman was inside the apartment with the man, who allegedly told officers through the closed door that “police were not going to take him’’ and that he was pointing a gun at the door.

Advertisement

According to an account of the shooting provided by Blodgett’s office, the woman confirmed to police that the man was armed, and she took shelter in a bedroom. The officers then forced their way into the apartment, where one officer saw the man pointing a gun at the door. That officer announced “gun” to the other officers, who fell back, according to the account.

At that point, “the suspect exited the apartment into the hallway and was still pointing a gun at officers,” according to the statement from Blodgett’s office. “Three officers then fired at the suspect. Officers immediately called for an ambulance.”

Lynn fire officials pronounced the man dead at the scene, police said. The officers have not been identified. Blodgett’s office will oversee the investigation into the shooting.

Eileen Dapkus said her stepson leaves a daughter who is in her 20s.

Globe correspondent Dylan McGuinness contributed to this report. Jan Ransom can be reached at jan.ransom@globe.com. Follow her on Twitter @Jan_Ransom.