SEATTLE -- The gunman had already shot a police officer, threatened to kill two children and barricaded himself upstairs in a house for 11 hours when one of the kids, a 6-year-old boy, escaped.

As the suspect held a little girl as a human shield, his movements exposed him to a sheriff’s marksman who targeted him through a window and killed him with a shot to the head, allowing the 8-year-old girl to break free from his grasp and run to safety, authorities disclosed Friday about the killing of Bruce R. Johnson in Tacoma, Washington.

“Once we were able to assess that the kids were still alive, it went into play,” sheriff’s spokesman Ed Troyer said of the SWAT team’s plan to end the standoff in a suburban neighborhood south of Seattle. “He had a choice to put the guns down. We weren’t about to let those kids get hurt.”

Law enforcement officers gather at Tacoma General Hospital, where a Tacoma Police officer was taken after being fatally shot while responding to a domestic violence call, Nov. 30, 2016, in Tacoma, Wash. AP

Johnson was the subject of an officer safety bulletin in mid-November after he was spotted walking through the Tacoma Mall armed and dressed like a plainclothes cop, CBS affiliate KIRO reports.

The bulletin obtained by KIRO shows Johnson walking through the Tacoma Mall Nov. 15 wearing a Sheriff’s Department hat, a set of handcuffs on his belt and carrying what appeared to be a soft rifle case.

A still picture taken from mall surveillance video shows the 38-year-old Johnson carrying the rifle case over his right shoulder as he walked past shoppers.

The bulletin states Johnson became irate when mall security tried to talk to him.

After a brief exchange with security Johnson purchased some coffee and left making obscene gestures and yelling, “See, see what they are doing to me?”

Tacoma police stopped Johnson as he drove away and spotted an unloaded 20-gauge shotgun in the front seat of his car.

Asked why he was attempting to look like a police officer the bulletin states Johnson replied that he “liked police and wanted essentially to fit in with law enforcement.”

The standoff began Wednesday night after Police Officer Reginald “Jake” Gutierrez, 45, was fatally shot when he and his partner went into the house to investigate a domestic violence call. Gutierrez’s partner returned fire and helped get Johnson’s wife safely out of the house.

Other officers came under fire as they worked their way into the house and pulled Gutierrez out. He later died in surgery.

Police escorted his body to a funeral home Friday as people lined the streets to pay their respects.

The 17-year veteran officer is survived by three daughters and a granddaughter. A fund has been set up to help the children, and the department is overseeing another fund to help with memorial services.

Police went to the house Wednesday after Johnson’s wife told animal control officers that he had locked her out of the house. The officers called police.

Several adults and the two children had been in the home earlier in the day, but it was not initially clear whether everyone had escaped when the shooting started, Tacoma police spokeswoman Loretta Cool said.

“Others were saying the kids went down to the park, but nobody could confirm where they were,” Cool said. “There wasn’t a sighting of them the whole time, no noise.”

As officials negotiated with Johnson, the SWAT team moved into the basement and then to the main floor of the house, cornering him upstairs, Troyer said.

That’s when they confirmed the kids were still inside.

Johnson had threatened to kill the children, and officers heard screaming and gunshots during the standoff, but once the officers determined the children were still alive, they executed a plan to get them out.

Before they could act, the 6-year-old boy bolted down the stairs and onto the porch. Johnson held onto the girl, but the activity exposed him to the marksman outside.

It only took one shot, and Johnson was dead.