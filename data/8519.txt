Prosecutors today declined to file charges against an Ontario police officer who shot and killed a Palmdale man at a strip mall in October.

The San Bernardino County District Attorney’s Office said Marco Salgado, armed with what police thought was a handgun, gave officers no choice but to use deadly force because he refused to put his hands up and reached for his waistband.

“These officers had to make an instantaneous decision and their options were limited,” prosecutors wrote in a report.

Salgado was inside the Liborio Market on G Street on Oct. 14 when someone noticed he was armed with what appeared to be a gun. Police later discovered it was a BB gun.

When officers arrived and had their guns drawn, Salgado and another man who was standing with him both put their hands up initially. But officers said Salgado then put his hands down.

“He reached toward his waist pulling his coat up and back, revealing a handgun,” prosecutors said.

Ontario police Detective Patrick Birkett shot Salgado twice when he saw him reach for the gun. Birkett told investigators he heard Salgado say “it’s only a BB gun” but Birkett didn’t believe him.

Toxicology testing revealed Salgado had alcohol and tranquilizers in his system.