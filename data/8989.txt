Sign up for our amNY Sports email newsletter to get insights and game coverage for your favorite teams

The frenzied clash between a heavily armed felon and three undercover cops outside Green-Wood cemetery may have been a case of mistaken identity for everyone involved.

Officials said that Prospect Avenue resident Michael Romero, 32, was mistaken for a thug wanted for a series of robberies in Greenwood Heights and Sunset Park when three plainclothes officers rolled up to him on April 1.

It was not initially clear if Romero knew that the two men and woman approaching him were New York’s Finest. But on Monday, an NYPD spokesperson said that at least one of the three officers “had his shield displayed” as cops motioned Romero over to their car at the corner of Fifth Avenue and 33rd Street, seconds before the frenzied clash that cost Romero his life.

“He [Romero] knew exactly who he was attacking,” the NYPD spokesman said.

The three officers, who were working out of the 72nd Precinct stationhouse, were rolling past the cemetery at 2:15 pm when they saw Romero, pulled over and motioned him to the car, demanding to see his ID.

What happened next was brutal, bloody, and over in a matter of seconds.

“You want my ID? Here’s my ID!” an outraged Romero bellowed as he charged the officers, pulled out a .357-caliber revolver and aimed it at Officer Sean Kelleher face as he sat behind the wheel of the car.

After reportedly hearing a click, Kelleher grabbed the gun, using his fingers to keep the cocked hammer from discharging.

With the two embroiled in a heated death match, Officer Tara Hayes pulled her pistol and fired. The bullet punched through Romero’s shoulder, hitting his chest.

Romero died of his injuries at Lutheran Medical Center on Second Avenue between 55th and 56th streets. None of the officers were injured, said Police Commissioner Ray Kelly, who praised Hayes for saving her partner.

“With no time to spare, she acted fast, courageously and professionally, while her partner fought hard to defend himself and his fellow officers,” he said.

Police found two IDs and a second gun — a .44-caliber pistol — on Romero after he was shot.

Police officials described him as a career felon who has been arrested more than 30 times in 15 years, a fact that led some officers to believe that he knew exactly who he was confronting when he drew his piece.

“A guy with this kind of rap sheet must have known that the three people coming towards him in a Crown Victoria were cops,” said one police source.

The cops, however, were apparently mistaken for targeting Romero, who has not actually been connected to the robbery spree plaguing the area.