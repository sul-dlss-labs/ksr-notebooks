An off-duty police officer fatally shot a 21-year-old Brooklyn woman after she and her mother attacked him with a baseball bat and a pool cue, the police said.

The shooting took place in the first-floor hallway of an apartment building at 1185 DeKalb Avenue in the Bushwick section, where the woman, Carmen Valentine, lived with her family on the fourth floor, the police said. Relatives of the officer, Hailoon Wang, live on the first floor, and the two families have feuded for about a year and a half, the police said.

Investigators said that as Officer Wang was leaving the building at about 9 p.m. Monday, he encountered Ms. Valentine and her mother, Benigna Valentine. The three exchanged words, although it is not clear what was said.

As the off-duty officer was getting into his car, a porcelain figurine was thrown from the building, narrowly missing him. Officer Wang went back inside. Carmen and Benigna Valentine met him in the foyer and began to assault him with a bat and a pool cue, the authorities said. It was not clear which woman carried which weapon.