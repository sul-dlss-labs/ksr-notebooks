Police and a robotic device exit the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., after a standoff was resolved. Two people had barricaded themselves in a first-floor room after one man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

A police officer stands beside a robotic device rolling toward a door at the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people remain barricaded in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

Police officers enter the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people barricaded themselves in a first-floor room. A man was killed in an officer-involved shooting at the hotel amid an ongoing standoff that began Wednesday night and stretched into Thursday. (AP Photo/Charles Krupa) Charles Krupa

A police officer walks outside the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people barricaded themselves in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

A police officers walks in a parking lot outside the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people barricaded themselves in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

Police officers enter the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people barricaded themselves in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

Police officers gather in a parking lot outside the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people barricaded themselves in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

Police officers walks outside the Quality Inn on Thursday in Manchester, N.H., where two people remained barricaded in a first-floor room. The standoff ended with three dead. AP PHOTO

A police officer carries a firefighter's hook into the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people barricaded themselves in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

A police officer climbs through a window at the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H., where two people remain barricaded in a first-floor room. One man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

Emergency medical technicians carry a person on a stretcher into an ambulance outside the Quality Inn on Thursday, March 28, 2019, in Manchester, N.H. Two people had barricaded themselves in a first-floor room after one man was shot and killed there Wednesday night by police after he engaged Drug Enforcement Administration agents and police. (AP Photo/Charles Krupa) Charles Krupa

MANCHESTER, N.H. — A 15-hour standoff at a New Hampshire hotel ended Thursday with three people dead, including two who had barricaded themselves inside a room and shot repeatedly at police and drug enforcement agents.

Authorities, including a SWAT team, swarmed the area around the Quality Inn in Manchester, closing off a bustling commercial neighborhood filled with car dealerships, a strip mall and several restaurants.

It began Wednesday evening when Stephen Marshall, 51, of Manchester, climbed out of a hotel window. Armed with an automatic handgun, Marshall “engaged” with a Manchester police officer and two Drug Enforcement Administration agents who had come there to serve a warrant on him and another man. They only would say it was drug-related.

A police officer and DEA agent shot Marshall, and he was pronounced dead at the hospital, according to the state attorney general’s office. No law enforcement officers or bystanders were injured.

Meanwhile, two other people — a man and a woman whose names have not yet been released — holed up in a first-floor room of the hotel. For nearly nine hours, one of the two fired multiple times on law enforcement who were outside.

SWAT team members eventually deployed chemical agents inside the room. At the same time, MacDonald said Manchester police officers “attempted to speak with these individuals and seek a peaceful resolution.”

The standoff ended Thursday morning after law enforcement officers managed to get into the Quality Inn. The attorney general’s office said the pair were found dead but wouldn’t say how they died.

“It’s disheartening that we have to face incidents like what we had to deal with today,” Manchester Police Chief Carlo Capano said. “When you think about a nine-hour period of officers being shot at as much as they were ... we are truly blessed that none of those officers were hurt today.”

WMUR-TV reports that Marshall had a criminal history dating back 10 years that included multiple drug charges.

New Hampshire Attorney General Gordon MacDonald told reporters Marshall’s shooting was being investigated by the New Hampshire State Police major crime unit under the direction of his office. The names of the two officers involved in the shooting were not released.

“This remains an active investigation. It is in its early stages and, as such, we are limited in the information we can provide,” MacDonald told reporters, adding that the crime scene was “complex.”

After Marshall was shot, a SWAT team arrived and the hotel and a nearby restaurant were evacuated. Police closed surrounding roads, and armored personnel carriers were stationed outside the hotel. Several firetrucks were also on the scene.

Michael Hughes, a shift manager at the Manchester Poker Room & Casino, which is next to the hotel, recalled how there were about 250 people inside playing bingo and other games when a few customers standing outside heard gunshots. That prompted the business go into a lockdown, eventually escorting customers five at a time past the heavy police presence around 9:30 p.m.

“It was chaotic,” Hughes said, adding that the business opened as usual Thursday. “It was definitely not a normal occurrence.”

After the standoff, roads and businesses were reopened. However, the hotel is not expected to reopen for several days to more than a week.