The gunman died in one of the train cars after barricading himself inside a bathroom, the authorities said, though it was not clear if he had been killed by the police or had taken his own life. The other suspect was taken into custody, according to the Tucson Police Department.

What set off the gunfire was not completely clear, Chief Magnus said, adding that he did not know whether any guns or drugs were found by officers. On Tuesday, the D.E.A. identified the agent who was killed as Michael G. Garbo, a group supervisor who had worked for the agency for more than 16 years combating criminal drug traffickers from the southwestern United States to Kabul, Afghanistan. Officials did not release the names of the other officers or the two suspects.

It was not clear if all the gunfire happened aboard the train or whether some shots were fired on the platform.

The gunfire prompted the evacuation of the Sunset Limited Train 2, which had been carrying 137 passengers and 11 crew members at the time of the shooting. All of those aboard the train, which had been traveling from Los Angeles to New Orleans, were safely evacuated, an Amtrak spokesman said.

The gunfire began at around 8 a.m. local time while the double-decker train was stopped at a platform at the station in Tucson, and intensified about 15 minutes later, live web-camera footage from the Southern Arizona Transportation Museum showed.