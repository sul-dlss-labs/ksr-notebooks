A gunman shot and wounded another man during a dispute inside a Brooklyn building and then fatally shot himself in the head as cops tried to talk to him Wednesday afternoon, officials said.

Hassan Cooper, 32, was fighting with a 28-year-old around 2 p.m. in a third-floor hallway at 565 Gates Ave. in Bedford-Stuyvesant in what police said may have been a landlord-tenant dispute when he pulled out a pistol and fired, police sources said.

The younger man was hit twice and taken to Kings County Hospital in stable condition, police said. As cops investigated the shooting, they determined that the shooter was barricaded on the fourth floor.

“During the course of the investigation, the responding officers realized that the male who fired the shots earlier was still inside the building,” Chief Jeffrey Maddrey, commanding officer of Patrol Borough Brooklyn North, said during a news briefing. “They started making dialogue with the male and during the course of the dialogue they heard a gunshot.”

The NYPD’s Emergency Service Unit arrived and tried to talk to the man. But it may have already been too late.

ESU found the gunman in a rear bedroom with a self-inflicted gunshot wound to the head and two firearms, ESU Commanding Officer Vincent Giordano said.

“It’s very possible that when the shots were heard by the officers prior to our arrival that was probably when he might have had a self-inflicted shot,” Giordano said.

He said about two hours elapsed between the initial shooting and when ESU was called.

Maddrey said cops were still investigating the circumstances of the shooting, but that it may have been prompted by a disagreement between a landlord and tenant.

“We believe there was some kind of landlord to the dispute, but those details are still being worked out,” Maddrey said.

The name of the wounded man wasn’t released.